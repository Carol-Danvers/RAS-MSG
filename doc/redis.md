1. 所有msg（包括相关信息）如何存储
考虑存入hash， msg:uuid  
hash中各个key-val就是msg的各个属性  

存入一个hash， key为uuid value为其他属性的json字符串

2. 消息timeout如何设置与处理
3. 订阅通知如何处理？拉模式？除了1中存储结构，还需要另外的结构么？
考虑以topic:xxx为key 的list，存入对应topic消息的uuid，然后根据uuid，向1中结构获取数据

push模式需要订阅端一直在线，断线可能会导致订阅端消息丢失。同时还要考虑订阅端的消息消费速度是否能够跟上，在消息量大时，订阅端要根据自己实际的处理速度来获取等量的消息，而不是直接获取所有消息。


4. 是否要加锁？如果只有ras操作redis，那么不需要加锁，如果是downstream拉取消息后也要delete消息，那么就是两个线程会操作redis，得加锁
不需要加锁
redis的使用分为两个部分，第一个部分是用于持久化ras中收到的消息，这个部分只有ras进行操作，不需要加锁。
第二个部分是利用redis作为一个MQ，这里考虑采取pull模式，订阅端需要读取数据，而推送端又要发布数据，这里需要加锁。